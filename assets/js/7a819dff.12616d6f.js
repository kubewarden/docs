"use strict";(self.webpackChunkkubewarden_docusaurus=self.webpackChunkkubewarden_docusaurus||[]).push([[5330],{3905:(e,t,i)=>{i.d(t,{Zo:()=>c,kt:()=>w});var r=i(67294);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){if(null==e)return{};var i,r,n=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var l=r.createContext({}),p=function(e){var t=r.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):a(a({},t),e)),i},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var i=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(i),m=n,w=u["".concat(l,".").concat(m)]||u[m]||d[m]||o;return i?r.createElement(w,a(a({ref:t},c),{},{components:i})):r.createElement(w,a({ref:t},c))}));function w(e,t){var i=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=i.length,a=new Array(o);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:n,a[1]=s;for(var p=2;p<o;p++)a[p]=i[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,i)}m.displayName="MDXCreateElement"},79623:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=i(87462),n=(i(67294),i(3905));const o={sidebar_label:"Swift",title:"Swift",description:"Kubewarden policies with Swift",keywords:["kubewarden","kubernetes","writing policies","swift"],"doc-type":["how-to"],"doc-topic":["kubewarden","writing-policies","swift"],"doc-persona":["kubewarden-policy-developer"]},a=void 0,s={unversionedId:"writing-policies/swift",id:"writing-policies/swift",title:"Swift",description:"Kubewarden policies with Swift",source:"@site/docs/writing-policies/swift.md",sourceDirName:"writing-policies",slug:"/writing-policies/swift",permalink:"/next/writing-policies/swift",draft:!1,editUrl:"https://github.com/kubewarden/docs/edit/main/docs/writing-policies/swift.md",tags:[],version:"current",lastUpdatedAt:1700575510,formattedLastUpdatedAt:"Nov 21, 2023",frontMatter:{sidebar_label:"Swift",title:"Swift",description:"Kubewarden policies with Swift",keywords:["kubewarden","kubernetes","writing policies","swift"],"doc-type":["how-to"],"doc-topic":["kubewarden","writing-policies","swift"],"doc-persona":["kubewarden-policy-developer"]},sidebar:"docs",previous:{title:"C#",permalink:"/next/writing-policies/dotnet"},next:{title:"Typescript",permalink:"/next/writing-policies/typescript"}},l={},p=[{value:"Current State",id:"current-state",level:2},{value:"More examples",id:"more-examples",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...i}=e;return(0,n.kt)(u,(0,r.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"As stated on the ",(0,n.kt)("a",{parentName:"p",href:"https://swift.org/"},"official website"),":"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Swift is a general-purpose programming language that\u2019s approachable for newcomers and powerful for experts.\nIt is fast, modern, safe, and a joy to write.")),(0,n.kt)("p",null,"The swift compiler doesn't yet have WebAssembly support, however the\n",(0,n.kt)("a",{parentName:"p",href:"https://swiftwasm.org/"},"SwiftWasm")," project provides a patched compiler with this\ncapability."),(0,n.kt)("p",null,"The SwiftWasm team is working to merge these changes into the Swift project.\nIn the meantime, you can use the tool chain provided by the SwiftWasm project to build Kubewarden policies."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"You don't need an Apple system to write or run Swift code. Everything\ncan be done also on a Linux machine or on Windows (by using Docker for Windows).")),(0,n.kt)("h2",{id:"current-state"},"Current State"),(0,n.kt)("p",null,"Policy authors can use the following resources:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/kubewarden/policy-sdk-swift"},"Kubewarden Swift SDK"),": this provides a set of ",(0,n.kt)("inlineCode",{parentName:"li"},"struct"),"s and functions that simplify the process of writing policies."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/kubewarden/swift-policy-template"},"Kubewarden Swift template project"),": use this template to scaffold a Swift-based policy.\nThe template comes with a working policy and a set of GitHub Actions to automate its lifecycle.")),(0,n.kt)("p",null,"There are no severe limitations with Swift, only some minor issues:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"It's critical to perform some post-build optimizations before using the\npolicy ",(0,n.kt)("em",{parentName:"li"},'"in production"'),":",(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},"Strip the Wasm module via ",(0,n.kt)("inlineCode",{parentName:"li"},"wasm-strip")," to reduce its size"),(0,n.kt)("li",{parentName:"ol"},"Optimize the Wasm module via ",(0,n.kt)("inlineCode",{parentName:"li"},"wasm-opt"))))),(0,n.kt)("p",null,"The GitHub Action provided by the template repository already takes care of that."),(0,n.kt)("h2",{id:"more-examples"},"More examples"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/kubewarden/pod-runtime-class-policy/tree/swift-implementation"},"This GitHub repository branch"),"\nhas a Kubewarden Policy written in Swift."))}d.isMDXComponent=!0}}]);